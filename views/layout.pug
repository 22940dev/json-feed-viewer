mixin flash-messages(messages)
  if messages
    #flash-messages
      if messages.info
        each message in messages.info
          +flash-message(message, 'info')
      if messages.success
        each message in messages.success
          +flash-message(message, 'success')
      if messages.warning
        each message in messages.warning
          +flash-message(message, 'warning')
      if messages.error
        each message in messages.error
          +flash-message(message, 'danger')

mixin flash-message(message, type)
  div(class='alert alert-' + type)
    = message

doctype html
html
  head
    title= title

    script(
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous")

    <!-- Latest compiled and minified CSS -->
    //<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/styles.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://bootswatch.com/flatly/bootstrap.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  body(style="padding-top:1em")
    //-
      nav.navbar.navbar-default.navbar-fixed-top
        .container
          // Brand and toggle get grouped for better mobile display
          .navbar-header
            //-
              button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#bs-example-navbar-collapse-1', aria-expanded='false')
                span.sr-only Toggle navigation
                span.icon-bar
                span.icon-bar
                span.icon-bar
            a.navbar-brand(href='/') JSON Feed Viewer
          // Collect the nav links, forms, and other content for toggling
          #bs-example-navbar-collapse-1.collapse.navbar-collapse
            ul.nav.navbar-nav
              //-
                li.active
                  a(href='#')
                    | Link 
                    span.sr-only (current)
                li
                  a(href='#') Link
                li.dropdown
                  a.dropdown-toggle(href='#', data-toggle='dropdown', role='button', aria-haspopup='true', aria-expanded='false')
                    | Dropdown 
                    span.caret
                  ul.dropdown-menu
                    li
                      a(href='#') Action
                    li
                      a(href='#') Another action
                    li
                      a(href='#') Something else here
                    li.divider(role='separator')
                    li
                      a(href='#') Separated link
                    li.divider(role='separator')
                    li
                      a(href='#') One more separated link
            //-
              form.navbar-form.navbar-left(method="get")
                .input-group
                  input.form-control(type='text', name="feed_url", placeholder='Feed URL')
                  span.input-group-btn
                    button.btn.btn-success(type='submit') Go
            //-
              ul.nav.navbar-nav.navbar-right
                li
                  a(href='#') Link
                li.dropdown
                  a.dropdown-toggle(href='#', data-toggle='dropdown', role='button', aria-haspopup='true', aria-expanded='false')
                    | Dropdown 
                    span.caret
                  ul.dropdown-menu
                    li
                      a(href='#') Action
                    li
                      a(href='#') Another action
                    li
                      a(href='#') Something else here
                    li.divider(role='separator')
                    li
                      a(href='#') Separated link
    .container
      +flash-messages(messages)
      block content

    footer
      hr
      .container.text-center
        | Made by 
        a(target="_blank" href="https://twitter.com/vaillancourtmax") Maxime Vaillancourt
        |  in Sherbrooke, Canada